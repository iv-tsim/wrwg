import{j as t}from"./jsx-runtime-vNq4Oc-g.js";import{r as a}from"./index-4g5l5LRQ.js";import{T as m}from"./view-qOzfKQ9i.js";import{c as y}from"./index-EtqCS5in.js";function j(n){if(!n||!("nodeType"in n))throw new Error("Node expected")}const N=(n,l,{callOnEscape:r=!1,callOnClickOutside:i=!1})=>{const d=a.useCallback(o=>{const{target:_}=o;j(_);const u=n.current;!_||!u||u.contains(_)||l()},[l,n]),c=a.useCallback(o=>{o.key==="Escape"&&l()},[l]);a.useEffect(()=>(r&&document.addEventListener("keydown",c),i&&document.addEventListener("click",d),()=>{i&&document.removeEventListener("click",d),r&&document.removeEventListener("keydown",c)}),[d,c,r,i])},g="_select_1a058_1",E="_select_status_opened_1a058_4",k="_select__dropdown_1a058_4",C="_select__top_1a058_8",I="_select__arrow_1a058_12",S="_select_status_disabled_1a058_16",T="_select__main_1a058_102",R="_select__list_1a058_117",V="_select__item_1a058_120",q="_select__button_1a058_133",s={select:g,select_status_opened:E,select__dropdown:k,select__top:C,select__arrow:I,select_status_disabled:S,select__main:T,select__list:R,select__item:V,select__button:q},f=({onChange:n,options:l,value:r,className:i,disabled:d})=>{const[c,o]=a.useState(!1),_=a.useRef(null),u=a.useRef(null);N(_,()=>o(!1),{callOnClickOutside:!0,callOnEscape:!0});const h=e=>{n(e),o(!1)},w=()=>{const{current:e}=u;if(c||!e)return;const{top:p,height:b}=e.getBoundingClientRect(),x=window.scrollY;p+b<x&&e.scrollIntoView({behavior:"smooth",block:"end"})},v=()=>{w(),o(e=>!e)};return t.jsxs("div",{className:y(s.select,i,{[s.select_status_opened]:c,[s.select_status_disabled]:d}),ref:_,children:[t.jsxs("button",{className:s.select__top,onClick:v,children:[t.jsx(m,{variant:"desc",children:r.label}),t.jsx("div",{className:s.select__arrow})]}),t.jsx("div",{className:s.select__dropdown,ref:u,children:t.jsx("div",{className:s.select__main,children:t.jsx("ul",{className:s.select__list,children:l.map((e,p)=>t.jsx("li",{className:s.select__item,children:t.jsx("button",{className:s.select__button,onClick:()=>h(e),children:t.jsx(m,{variant:"desc",children:e.label})})},p))})})})]})};try{f.displayName="Select",f.__docgenInfo={description:"",displayName:"Select",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"IOption<T>"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"IOption<T>[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: IOption<T>) => void"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}export{f as S};
